{% extends 'newfrontend/base.html' %}
{% load static %}
{% load thumbnail %}
{% load humanize %}
{% load i18n %}
{% block nav_properties_active %}active{% endblock %}
{% block title %}Villa Agency - Properties{% endblock %}
{% block content %}


<style>

/* Container styling - this remains the same as before */
.properties-items ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.property-details-grid {
    /* Key: Set up the 2-column grid */
    display: grid;
    grid-template-columns: 1fr 1fr; /* Creates two columns of equal width */
    gap: 10px 20px;
    margin-bottom: 15px;
}

/* --- New Styles to Push the Second Item to the Far Side --- */

.property-details-grid li {
    margin: 0;
    padding: 0;
    /* By default, list items are left-aligned (like Bedrooms and Gross m²) */
    text-align: left;
}

/* Target the items that fall into the second column (the 2nd and 4th <li>) */
.property-details-grid li:nth-child(even) {
    /* Push the content of the second column items (Bathrooms, Floor) to the right */
    text-align: right;
}

/* Style for the single row location item - this remains the same */
.properties-items ul > li {
    width: 100%;
    margin-top: 0;
}
</style>


  <div class="page-heading header-text">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <span class="breadcrumb"><a href="{% url 'new_index' %}">{% trans "Home" %}</a> / {% trans "Properties" %}</span>
          <h3>{% trans "Properties" %}</h3>
        </div>
      </div>
    </div>
  </div>

  <div class="section properties" style="background-color: #907c7857;margin-top: 0px;">
    <div class="container">
      <ul class="properties-filter" style="padding-top: 20px;">
        <li><a class="is_active" href="#!" data-filter="*">{% trans "Show All" %}</a></li>
        <li><a href="#!" data-filter=".kiralik">{% trans "Kiralık" %}</a></li>
        <li><a href="#!" data-filter=".satis">{% trans "Satış" %}</a></li>
        <li><a href="{% url 'new_map' %}" >{% trans "Map" %}</a></li>
      </ul>

      <div class="row properties-box">
        {% if listings %}
          {% for listing in listings %}
            <div class="col-lg-4 col-md-6 align-self-center mb-30 properties-items {% if listing.deal_type %}{{ listing.deal_type|lower }}{% endif %}">
              <div class="item">
                <a href="{% url 'new_listing_detail' listing.id %}">
                  {% with imgs=listing.visible_images %}
                    {% if imgs %}
                      {% for im in imgs|slice:':1' %}
                        {% thumbnail im.image 'card' as imthumb %}
                        <img src="{{ imthumb.url }}" width="{{ imthumb.width }}" height="{{ imthumb.height }}" alt="{{ listing.title }}">
                      {% endfor %}
                    {% else %}
                      <img src="{% static 'newfront/assets/images/property-01.jpg' %}" alt="{{ listing.title }}">
                    {% endif %}
                  {% endwith %}
                </a>
                <span class="category">{{ listing.property_type }}</span>
                {% if listing.deal_type %}<span class="category">{{ listing.get_deal_type_display }}</span>{% endif %}
                <h6>₺{{ listing.price|intcomma }}</h6>
                <h4>
                  <a href="{% url 'new_listing_detail' listing.id %}">{{ listing.title }}</a>
                </h4>
              <ul>
                <div class="property-details-grid">
                    <li><i class="fa fa-bed" aria-hidden="true"></i> {% trans "Bedrooms" %}: <span>{{ listing.bedrooms }}</span></li>
                    <li><i class="fa fa-bath" aria-hidden="true"></i> {% trans "Bathrooms" %}: <span>{{ listing.bathrooms }}</span></li>
                    <li><i class="fa fa-ruler-combined" aria-hidden="true"></i> {% trans "Gross m²" %}: <span>{{ listing.m2_gross|default:'-' }}</span></li>
                    <li><i class="fa fa-building" aria-hidden="true"></i> {% trans "Floor" %}: <span>{{ listing.floor_number|default:'-' }}/{{ listing.floors_total|default:'-' }}</span></li>
                </div>
                <li><i class="fa fa-map-marker-alt" aria-hidden="true"></i> {% trans "Location" %}: <span>{{ listing.city }}, {{ listing.state }}</span></li>
            </ul>
<div class="main-button">
    <a href="{% url 'new_listing_detail' listing.id %}">{% trans "More Info" %}</a>
    <a href="{% url 'new_map' %}"><i class="fa fa-map"></i> </a>
</div>
</div>

            </div>
          {% endfor %}
        {% else %}
          <div class="col-12"><p>{% trans "No Listings Available" %}</p></div>
        {% endif %}
      </div>

      <div class="row">
        <div class="col-lg-12">
          {% if listings.has_other_pages %}
            <ul class="pagination">
              {% with cur=listings.number last=listings.paginator.num_pages %}
                {# Prev #}
                {% if listings.has_previous %}
                  {% with prev=listings.previous_page_number %}
                    <li>
                      <a href="{% if prev == 1 %}{% url 'new_properties' %}{% else %}{% url 'new_properties_page' prev %}{% endif %}">&laquo;</a>
                    </li>
                  {% endwith %}
                {% else %}
                  <li class="disabled"><a>&laquo;</a></li>
                {% endif %}

                {# First page #}
                <li><a class="{% if cur == 1 %}is_active{% endif %}" href="{% url 'new_properties' %}">1</a></li>

                {# Left ellipsis if needed (show when cur > 4) #}
                {% if cur|add:'-3' > 1 %}
                  <li class="disabled"><a>&hellip;</a></li>
                {% endif %}

                {# Window pages: from max(2, cur-2) to min(last-1, cur+2) #}
                {% for i in listings.paginator.page_range %}
                  {% if i > 1 and i < last %}
                    {% if i >= cur|add:'-2' and i <= cur|add:'2' %}
                      <li>
                        <a class="{% if cur == i %}is_active{% endif %}" href="{% url 'new_properties_page' i %}">{{ i }}</a>
                      </li>
                    {% endif %}
                  {% endif %}
                {% endfor %}

                {# Right ellipsis if needed (show when cur < last-3) #}
                {% if cur|add:'3' < last %}
                  <li class="disabled"><a>&hellip;</a></li>
                {% endif %}

                {# Last page (if more than one) #}
                {% if last > 1 %}
                  <li>
                    <a class="{% if cur == last %}is_active{% endif %}" href="{% url 'new_properties_page' last %}">{{ last }}</a>
                  </li>
                {% endif %}

                {# Next #}
                {% if listings.has_next %}
                  {% with next=listings.next_page_number %}
                    <li>
                      <a href="{% if next == 1 %}{% url 'new_properties' %}{% else %}{% url 'new_properties_page' next %}{% endif %}">&raquo;</a>
                    </li>
                  {% endwith %}
                {% else %}
                  <li class="disabled"><a>&raquo;</a></li>
                {% endif %}
              {% endwith %}
            </ul>
          {% endif %}
        </div>
      </div>
    </div>
  </div>

    <div class="section best-deal">
    <div class="container">
      <div class="row">
        <div class="col-lg-4">
          <div class="section-heading">
            <h6>| {% trans "Best Deal" %}</h6>
            <h2>{% trans "Find Your Best Deal Right Now!" %}</h2>
          </div>
        </div>
        <div class="col-lg-12">
          <div class="tabs-content">
            <div class="row">
              <div class="nav-wrapper ">
                <ul class="nav nav-tabs" role="tablist">
                  <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="appartment-tab" data-bs-toggle="tab" data-bs-target="#appartment" type="button" role="tab" aria-controls="appartment" aria-selected="true">{% trans "Apartment" %}</button>
                  </li>
                  <li class="nav-item" role="presentation">
                    <button class="nav-link" id="villa-tab" data-bs-toggle="tab" data-bs-target="#villa" type="button" role="tab" aria-controls="villa" aria-selected="false">{% trans "Villa House" %}</button>
                  </li>
                  <li class="nav-item" role="presentation">
                    <button class="nav-link" id="Map-tab" data-bs-toggle="tab" data-bs-target="#Map" type="button" role="tab" aria-controls="Map" aria-selected="false">{% trans "Map" %}</button>
                  </li>
                </ul>
              </div>              
              <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show active" id="appartment" role="tabpanel" aria-labelledby="appartment-tab">
                  <div class="row">
                    <div class="col-lg-3">
                      <div class="info-table">
                        <ul>
                          <li>Total Flat Space <span>540 m2</span></li>
                          <li>Floor number <span>3</span></li>
                          <li>Number of rooms <span>8</span></li>
                          <li>Parking Available <span>Yes</span></li>
                          <li>Payment Process <span>Bank</span></li>
                        </ul>
                      </div>
                    </div>
                    <div class="col-lg-6">
                      <img src="{% static 'newfront/assets/images/deal-01.jpg' %}" alt="">
                    </div>
                    <div class="col-lg-3">
                      <h4>{% trans "All Info About Apartment" %}</h4>
                      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, do eiusmod tempor pack incididunt ut labore et dolore magna aliqua quised ipsum suspendisse. <br><br>Swag fanny pack lyft blog twee. JOMO ethical copper mug, succulents typewriter shaman DIY kitsch twee taiyaki fixie hella venmo after messenger poutine next level humblebrag swag franzen.</p>
                      <div class="icon-button">
                       <li>
    <a href="#" data-cal-link="hasan-gun-saqvh6" data-cal-config='{"layout":"month_view"}'>
        <i class="fa fa-calendar" style="margin-right:5px;padding-right:5px;"></i> 
        {% trans "Schedule a visit" %}
    </a>
</li>      
                      </div>
                    </div>
                  </div>
                </div>
                <div class="tab-pane fade" id="villa" role="tabpanel" aria-labelledby="villa-tab">
                  <div class="row">
                    <div class="col-lg-3">
                      <div class="info-table">
                        <ul>
                          <li>Total Flat Space <span>250 m2</span></li>
                          <li>Floor number <span>26th</span></li>
                          <li>Number of rooms <span>5</span></li>
                          <li>Parking Available <span>Yes</span></li>
                          <li>Payment Process <span>Bank</span></li>
                        </ul>
                      </div>
                    </div>
                    <div class="col-lg-6">
                      <img src="{% static 'newfront/assets/images/deal-02.jpg' %}" alt="">
                    </div>
                    <div class="col-lg-3">
                      <h4>Detail Info About New Villa</h4>
                      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, do eiusmod tempor pack incididunt ut labore et dolore magna aliqua quised ipsum suspendisse. <br><br>Swag fanny pack lyft blog twee. JOMO ethical copper mug, succulents typewriter shaman DIY kitsch twee taiyaki fixie hella venmo after messenger poutine next level humblebrag swag franzen.</p>
                      <div class="icon-button">
                        <a href="https://cal.com/hasan-gun-saqvh6"><i class="fa fa-calendar"></i> {% trans "" %}</a>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="tab-pane fade" id="Map" role="tabpanel" aria-labelledby="Map-tab">
                  <div class="row">
                    <div class="col-lg-3">
                      <div class="info-table">
                        <ul>
                          <li>Total Flat Space <span>320 m2</span></li>
                          <li>Floor number <span>34th</span></li>
                          <li>Number of rooms <span>6</span></li>
                          <li>Parking Available <span>Yes</span></li>
                          <li>Payment Process <span>Bank</span></li>
                        </ul>
                      </div>
                    </div>
                    <div class="col-lg-6">
                      <img src="{% static 'newfront/assets/images/deal-03.jpg' %}" alt="">
                    </div>
                    <div class="col-lg-3">
                      <h4>Extra Info About Map</h4>
                      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, do eiusmod tempor pack incididunt ut Kinfolk tonx seitan crucifix 3 wolf moon bicycle rights keffiyeh snackwave wolf same vice, chillwave vexillologistlabore et dolore magna aliqua quised ipsum suspendisse. <br><br>Swag fanny pack lyft blog twee. JOMO ethical copper mug, succulents typewriter shaman DIY kitsch twee taiyaki fixie hella venmo after messenger poutine next level humblebrag swag franzen.</p>
                      <div class="icon-button">
                       <li>
    <a href="#" data-cal-link="hasan-gun-saqvh6" data-cal-config='{"layout":"month_view"}'>
        <i class="fa fa-calendar" style="margin-right:5px;padding-right:5px;"></i> 
        {% trans "Schedule a visit" %}
    </a>
</li>      
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


 <div class="contact section">
    <div class="container">
      <div class="row">
        <div class="col-lg-4 offset-lg-4">
          <div class="section-heading text-center">
            <h6>            <h6>{% trans "Contact Us" %}</h6></h6>
            <h2>{% trans "Get In Touch With Our Agents" %}</h2>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="contact-content">
    <div class="container">
      <div class="row">
        <div class="col-lg-7">
          <div id="map" style="position:relative;">
            <div class="gmaps-placeholder" style="width:100%; height:500px; border-radius:8px; background:#eef1f5; display:grid; place-items:center; color:#64748b;">
              <div style="text-align:center">
                <div style="margin-bottom:10px; font-weight:600;">Map preview disabled</div>
                <a class="btn btn-primary btn-sm" target="_blank" rel="noopener" href="https://www.google.com/maps/place/Kuzey+yap%C4%B1+gayrimenkul/@40.982822,28.6433741,15z/">
                  Open in Google Maps
                </a>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-6">
              <div class="item phone">
                <img src="{% static 'newfront/assets/images/phone-icon.png' %}" alt="" style="max-width: 52px;">
                <h6>+90 542 363 74 36<br><span>Phone Number</span></h6>
              </div>
            </div>
            <div class="col-lg-6">
              <div class="item email">
                <img src="{% static 'newfront/assets/images/email-icon.png' %}" alt="" style="max-width: 52px;">
                <h6>hasangun@kuzey-yapi<br><span>Business Email</span></h6>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-5">
          <form id="contact-form" action="" method="post">
            <div class="row">
              <div class="col-lg-12">
                <fieldset>
                  <label for="name">{% trans "Full Name" %}</label>
                  <input type="name" name="name" id="name" placeholder="Your Name..." autocomplete="on" required>
                </fieldset>
              </div>
              <div class="col-lg-12">
                <fieldset>
                  <label for="email">{% trans "Email Address" %}</label>
                  <input type="text" name="email" id="email" pattern="[^ @]*@[^ @]*" placeholder="Your E-mail..." required="">
                </fieldset>
              </div>
              <div class="col-lg-12">
                <fieldset>
                  <label for="subject">{% trans "Subject" %}</label>
                  <input type="subject" name="subject" id="subject" placeholder="Subject..." autocomplete="on" >
                </fieldset>
              </div>
              <div class="col-lg-12">
                <fieldset>
                  <label for="message">{% trans "Message" %}</label>
                  <textarea name="message" id="message" placeholder="Your Message"></textarea>
                </fieldset>
              </div>  
              <div class="col-lg-12">
                <fieldset>
                  <button type="submit" id="form-submit" class="orange-button">{% trans "Send Message" %}</button>
                </fieldset>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>


{% endblock %}
